{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAiBA,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EACEM,EAAAZ,GAASa,OAAOC,QACd,uBAAqBX,QAAiBC,QAI1CG,EACEK,EAAAZ,GAASa,OAAOE,QACd,sBAAoBZ,QAAeC,OAAgB,GAIxDA,EAAW,G,CAjCLY,SAASC,cAAc,SAqC/BC,iBAAiB,UAnCHC,IACjBA,EAAEC,iBAEF,IAAIhB,EAAaiB,OAAOF,EAAEG,cAAcC,MAAMC,OAC9C,MAAMC,EAAYJ,OAAOF,EAAEG,cAAcI,KAAKF,OACxCG,EAAcN,OAAOF,EAAEG,cAAcM,OAAOJ,OAElD,IAAK,IAAIrB,EAAW,EAAGA,GAAYwB,EAAaxB,GAAY,EAC1DD,EAAcC,EAAUC,GAAYyB,OAAOC,QAC3C1B,GAAcqB,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nconst submitForm = e => {\n  e.preventDefault();\n\n  let delayInput = Number(e.currentTarget.delay.value);\n  const stepInput = Number(e.currentTarget.step.value);\n  const amountInput = Number(e.currentTarget.amount.value);\n\n  for (let position = 1; position <= amountInput; position += 1) {\n    createPromise(position, delayInput).then().catch();\n    delayInput += stepInput;\n  }\n};\n\nfunction createPromise(position, delayInput) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delayInput}ms`\n          )\n        );\n      } else {\n        reject(\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delayInput}ms`\n          )\n        );\n      }\n    }, delayInput);\n  });\n}\n\nform.addEventListener('submit', submitForm);\n\n//   setTimeout(() => {\n//     createPromise(counter, delayInput)\n//       .then(value => {\n//         Notiflix.Notify.success(value);\n//       })\n//       .catch(error => {\n//         Notiflix.Notify.failure(error);\n//       });\n\n//     intervalId = setInterval(() => {\n//       counter++;\n\n//       if (counter === +amountInput) {\n//         clearInterval(intervalId);\n//       }\n//       createPromise(counter, +delayInput + stepInput * counter)\n//         .then(value => {\n//           Notiflix.Notify.success(value);\n//         })\n//         .catch(error => {\n//           Notiflix.Notify.success(error);\n//         });\n//     }, stepInput);\n//   }, delayInput);\n// };\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delayInput","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$parcel$interopDefault","Notify","success","failure","document","querySelector","addEventListener","e","preventDefault","Number","currentTarget","delay","value","stepInput","step","amountInput","amount","then","catch"],"version":3,"file":"03-promises.f2f57741.js.map"}